---
// Layout.astro
import '../styles/tailwind.css';
import '../styles/obsidian.css';
import '../styles/markdown-fixes.css';
import '../styles/markdown-font-fix.css';

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Albert+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="/fonts/redaction/style.css" />
		<script>
			// Add this debugging script temporarily
			document.addEventListener('DOMContentLoaded', () => {
				console.log("Font loading debug:");
				
				// Log all available fonts
				document.fonts.ready.then(() => {
					console.log("All fonts loaded");
					console.log("Available fonts:", document.fonts);
					
					// Check for our specific font
					const fontAvailable = document.fonts.check("1em 'Redaction 20'");
					console.log("Redaction 20 available:", fontAvailable);
					
					const fontAvailable2 = document.fonts.check("1em 'Redaction'");
					console.log("Redaction available:", fontAvailable2);
					
					// Check what font is actually being used on headings
					const heading = document.querySelector('h1');
					if (heading) {
						console.log("Computed style for h1:", window.getComputedStyle(heading).fontFamily);
					}
				});
			});
		</script>
	</head>
	<body>
		<slot />
	</body>
</html>
